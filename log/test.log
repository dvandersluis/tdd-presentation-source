  [1m[36m (102.9ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (85.0ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36m (0.6ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateUsers (20120525152227)
  [1m[35m (58.6ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `first_name` varchar(255) NOT NULL, `last_name` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `hashed_password` varchar(255)) ENGINE=InnoDB
  [1m[36m (5.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20120525152227')[0m
Migrating to CreateAccounts (20120525152350)
  [1m[35m (72.9ms)[0m  CREATE TABLE `accounts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11) NOT NULL, `name` varchar(255) NOT NULL, `balance` decimal DEFAULT 0.0) ENGINE=InnoDB
  [1m[36m (5.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20120525152350')[0m
  [1m[35m (0.6ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations` 
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0001@example.com', 'John', NULL, 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (34.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0002@example.com', 'John', NULL, 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (11.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0003@example.com', 'John', NULL, 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (4.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0004@example.com', 'John', NULL, 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
  [1m[36m (7.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0005@example.com', 'John', NULL, 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0001@example.com', 'John', NULL, 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (47.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0002@example.com', 'John', NULL, 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (13.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0003@example.com', 'John', NULL, 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0004@example.com', 'John', NULL, 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (23.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0005@example.com', 'John', NULL, 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (12.0ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (55.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0002@example.com', 'John', 'hashed_password_1', 'Smith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `hashed_password` = 'hashed_password_2' WHERE `users`.`id` = 12
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35m (5.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (47.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0002@example.com', 'John', 'hashed_password_1', 'Smith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  UPDATE `users` SET `hashed_password` = 'hashed_password_2' WHERE `users`.`id` = 17
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (14.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35m (6.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (69.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0002@example.com', 'John', 'hashed_password_1', 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `hashed_password` = 'hashed_password_2' WHERE `users`.`id` = 22
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (31.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1[0m
  [1m[35m (12.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1[0m
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 25 LIMIT 1[0m
  [1m[35m (5.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (35.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36m (12.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 28 LIMIT 1
  [1m[36m (5.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 29 LIMIT 1
  [1m[36m (5.1ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (59.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 31 LIMIT 1
  [1m[36m (13.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 32 LIMIT 1
  [1m[36m (5.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 33 LIMIT 1
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (53.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 35 LIMIT 1
  [1m[36m (15.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.5ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 36 LIMIT 1
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 37 LIMIT 1
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (37.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 39 LIMIT 1
  [1m[36m (13.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 40 LIMIT 1
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 41 LIMIT 1
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 43 LIMIT 1
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 44 LIMIT 1
  [1m[36m (5.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 45 LIMIT 1
  [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
  [1m[35m (44.1ms)[0m  DROP TABLE `users`
  [1m[36m (20.5ms)[0m  [1mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20120525152227'[0m
  [1m[35m (0.6ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations` 
  [1m[36m (0.3ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
  [1m[35m (62.1ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `username` varchar(255) NOT NULL, `first_name` varchar(255) NOT NULL, `last_name` varchar(255) NOT NULL, `email` varchar(255) NOT NULL, `hashed_password` varchar(255)) ENGINE=InnoDB
  [1m[36m (6.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20120525152227')[0m
  [1m[35m (0.6ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations` 
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (43.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (14.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
  [1m[36m (5.0ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (53.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
  [1m[36m (34.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (12.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (4.8ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (58.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (13.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (19.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (5.4ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (37.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (34.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (14.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (5.6ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (44.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (12.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.6ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (43.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (31.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (12.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (41.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 26 LIMIT 1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (13.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 28 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (55.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (41.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 31 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (13.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 32 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 33 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (4.7ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (14.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 35 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (32.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 36 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (9.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 37 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (9.1ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (31.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 39 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (16.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 40 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (5.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 41 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 42 LIMIT 1[0m
  [1m[35m (39.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 43 LIMIT 1[0m
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 44 LIMIT 1[0m
  [1m[35m (14.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 45 LIMIT 1[0m
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 46 LIMIT 1[0m
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 48 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 49 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 50 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 51 LIMIT 1[0m
  [1m[35m (11.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 52 LIMIT 1[0m
  [1m[35m (5.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 53 LIMIT 1[0m
  [1m[35m (4.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 54 LIMIT 1[0m
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 55 LIMIT 1[0m
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 57 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 58 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (5.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 59 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 60 LIMIT 1[0m
  [1m[35m (42.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 61 LIMIT 1[0m
  [1m[35m (13.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 62 LIMIT 1[0m
  [1m[35m (4.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 63 LIMIT 1[0m
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 64 LIMIT 1[0m
  [1m[35m (9.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 66 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 67 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 68 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 69 LIMIT 1[0m
  [1m[35m (40.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 70 LIMIT 1[0m
  [1m[35m (13.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 71 LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 72 LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 73 LIMIT 1[0m
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 75 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 76 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (5.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 77 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 78 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 78)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (51.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 79 LIMIT 1
  [1m[36m (13.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 80 LIMIT 1
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 81 LIMIT 1
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 82 LIMIT 1
  [1m[36m (5.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 84 LIMIT 1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (5.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 85 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 86 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 87 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 87)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (170.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 88 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 88)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (12.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 89 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (-100, 'Account 0003', 89)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 90 LIMIT 1
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 91 LIMIT 1
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 93 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 94 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 95 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (4.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 96 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 96)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 97 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 97)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (22.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 98 LIMIT 1[0m
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 99 LIMIT 1[0m
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 100 LIMIT 1[0m
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 102 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 103 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 104 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 105 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 105)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (59.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 106 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 106)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (12.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 107 LIMIT 1[0m
  [1m[35m (14.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 108 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 108)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 108)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 109 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (-100, 'Account 0006', 109)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (300, 'Account 0007', 109)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 111 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 112 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (5.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 113 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (4.8ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 114 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 114)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (38.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 115 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 115)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (12.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 116 LIMIT 1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 117 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 117)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 117)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 118 LIMIT 1[0m
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 120 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 121 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 122 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 123 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 123)[0m
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (37.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 124 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 124)
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (2.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 125 LIMIT 1[0m
  [1m[35m (8.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 126 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 126)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 126)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 127 LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 129 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (5.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 130 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (5.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 131 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 132 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 132)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (65.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 133 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 133)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (14.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 134 LIMIT 1[0m
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 135 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 135)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 135)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 136 LIMIT 1[0m
  [1m[35m (3.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 138 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 139 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 140 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 141 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 141)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (64.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 142 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 142)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (19.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 143 LIMIT 1[0m
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 144 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 144)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 144)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (9.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 145 LIMIT 1[0m
  [1m[35m (5.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 147 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 148 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (12.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 149 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (14.1ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 150 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 150)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (38.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 151 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 151)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (10.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 152 LIMIT 1[0m
  [1m[35m (4.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 153 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (55, 'Account 0004', 153)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (9.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 154 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 154)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 154)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 155 LIMIT 1
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 156 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 156)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (33.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 157 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 157)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (11.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 158 LIMIT 1[0m
  [1m[35m (13.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 159 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (55, 'Account 0004', 159)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 160 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 160)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 160)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 161 LIMIT 1
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 162 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 162)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 163 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 163)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 164 LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 165 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (55, 'Account 0004', 165)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 166 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 166)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 166)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (15.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 167 LIMIT 1
  [1m[36m (6.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 169 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 170 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 171 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 172 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 172)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 173 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 173)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (11.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 174 LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 175 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (55, 'Account 0004', 175)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (37.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 176 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 176)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 176)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (12.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 177 LIMIT 1
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 178 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 178)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (48.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 179 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 179)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (11.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 180 LIMIT 1[0m
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 181 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (55, 'Account 0004', 181)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 182 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 182)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 182)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 183 LIMIT 1
  [1m[36m (8.7ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 184 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 184)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (32.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 185 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 185)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (12.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 186 LIMIT 1[0m
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 187 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (55, 'Account 0004', 187)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 188 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 188)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 188)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 189 LIMIT 1
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 190 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 190)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (69.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 191 LIMIT 1
  [1m[36m (14.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 192 LIMIT 1
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 193 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (60, 'Account 0004', 193)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 194 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 194)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 194)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 195 LIMIT 1[0m
  [1m[35m (3.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (14.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 197 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 198 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 199 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 200 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 200)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (35.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 201 LIMIT 1
  [1m[36m (2.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 202 LIMIT 1
  [1m[36m (3.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 203 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (60, 'Account 0004', 203)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (25.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 204 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 204)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 204)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 205 LIMIT 1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 206 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 206)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (34.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 207 LIMIT 1
  [1m[36m (12.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 208 LIMIT 1
  [1m[36m (56.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 209 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (60, 'Account 0004', 209)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 210 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 210)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 210)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 211 LIMIT 1[0m
  [1m[35m (8.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 213 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 214 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 215 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 216 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 216)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (37.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 217 LIMIT 1
  [1m[36m (10.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 218 LIMIT 1
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 219 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (60, 'Account 0004', 219)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 220 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 220)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 220)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 221 LIMIT 1[0m
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 223 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (4.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 224 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 225 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 226 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 226)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (44.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 227 LIMIT 1
  [1m[36m (13.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 228 LIMIT 1
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 229 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (60, 'Account 0004', 229)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 230 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 230)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 230)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 231 LIMIT 1[0m
  [1m[35m (28.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (11.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 233 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (5.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 234 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (11.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 235 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 236 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 236)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (44.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 237 LIMIT 1
  [1m[36m (20.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 238 LIMIT 1
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 239 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (1960, 'Account 0004', 239)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 1860 WHERE `accounts`.`id` = 80[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 240 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 240)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 240)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 241 LIMIT 1
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 243 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 244 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 245 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 246 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 246)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (40.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 247 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 247)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (18.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 248 LIMIT 1[0m
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 249 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (1960, 'Account 0004', 249)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 1860 WHERE `accounts`.`id` = 85
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 1710 WHERE `accounts`.`id` = 85[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 1690 WHERE `accounts`.`id` = 85
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE `accounts` SET `balance` = 1640 WHERE `accounts`.`id` = 85[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (9.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 250 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 250)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 250)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 251 LIMIT 1
  [1m[36m (27.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (22.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 253 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 254 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 255 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 256 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 256)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (37.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 257 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 257)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (14.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 258 LIMIT 1[0m
  [1m[35m (14.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 259 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (1960, 'Account 0004', 259)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 1860 WHERE `accounts`.`id` = 90
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE `accounts` SET `balance` = 1710 WHERE `accounts`.`id` = 90[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  UPDATE `accounts` SET `balance` = 1690 WHERE `accounts`.`id` = 90
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE `accounts` SET `balance` = 1640 WHERE `accounts`.`id` = 90[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 260 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 260)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 260)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 261 LIMIT 1
  [1m[36m (6.5ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 262 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 262)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (31.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 263 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 263)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (11.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 264 LIMIT 1[0m
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 265 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (1960, 'Account 0004', 265)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 1860 WHERE `accounts`.`id` = 95
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE `accounts` SET `balance` = 1710 WHERE `accounts`.`id` = 95[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 1690 WHERE `accounts`.`id` = 95
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE `accounts` SET `balance` = 1640 WHERE `accounts`.`id` = 95[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 266 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 266)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 266)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 267 LIMIT 1
  [1m[36m (3.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 268 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 268)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (36.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 269 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 269)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 270 LIMIT 1[0m
  [1m[35m (6.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 271 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (1960, 'Account 0004', 271)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 1860 WHERE `accounts`.`id` = 100
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE `accounts` SET `balance` = 1710 WHERE `accounts`.`id` = 100[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 1690 WHERE `accounts`.`id` = 100
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE `accounts` SET `balance` = 1640 WHERE `accounts`.`id` = 100[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 272 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 272)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 272)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 273 LIMIT 1
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 274 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 274)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (32.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 275 LIMIT 1
  [1m[36m (13.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 276 LIMIT 1
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 277 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (1955, 'Account 0004', 277)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 278 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 278)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 278)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 279 LIMIT 1[0m
  [1m[35m (5.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 281 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 282 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (4.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 283 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (11.1ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (6.8ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (50.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (12.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (1955, 'Account 0004', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 5)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (15.5ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (8.8ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (51.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 2)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (14.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (7.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (1960, 'Account 0004', 4)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  UPDATE `accounts` SET `balance` = 1860 WHERE `accounts`.`id` = 3
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mUPDATE `accounts` SET `balance` = 1710 WHERE `accounts`.`id` = 3[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  UPDATE `accounts` SET `balance` = 1690 WHERE `accounts`.`id` = 3
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mUPDATE `accounts` SET `balance` = 1640 WHERE `accounts`.`id` = 3[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 5)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 5)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (6.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.5ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (16.0ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.5ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (36.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (32.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (13.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (1955, 'Account 0004', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 5)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (5.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (14.2ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (8.6ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (36.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 2)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (10.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (8.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (1960, 'Account 0004', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 1860 WHERE `accounts`.`id` = 3
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 1710 WHERE `accounts`.`id` = 3[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 1690 WHERE `accounts`.`id` = 3
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE `accounts` SET `balance` = 1640 WHERE `accounts`.`id` = 3[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 5)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (18.5ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (8.7ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 2)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (35.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (1960, 'Account 0004', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 1860 WHERE `accounts`.`id` = 3
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE `accounts` SET `balance` = 1710 WHERE `accounts`.`id` = 3[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 1690 WHERE `accounts`.`id` = 3
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mUPDATE `accounts` SET `balance` = 1640 WHERE `accounts`.`id` = 3[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (12.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0005', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0006', 5)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
  [1m[36m (6.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (5.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (11.7ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (38.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 2)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (10.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (2.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (4.6ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (10.9ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (5.6ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (31.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 2)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (3.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (22.3ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.3ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (129.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 2)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (4.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (3.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (9.8ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (5.9ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (29.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (11.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (0.9ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (5.6ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (6.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (34.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (13.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (12.3ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (7.8ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (34.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (12.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (3.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (22.2ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (5.8ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (51.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (14.6ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.1ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (54.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (13.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (9.6ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.2ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (2.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (1.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (36.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (13.7ms)[0m  ROLLBACK
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (26.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.4ms)[0m  BEGIN
  [1m[36m (12.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 5)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (14.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (9.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
  [1m[35m (6.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (14.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (9.9ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (8.9ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (41.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (12.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (10.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (22.4ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (23.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (36.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (14.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (4.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (28.0ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (5.9ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (32.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (19.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (5.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (13.8ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (14.8ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 54ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (40.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (12.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (11.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
  [1m[35m (14.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (11.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (13.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.8ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (11.7ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 32ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (35.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (13.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (4.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (14.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
  [1m[35m (4.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (6.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (3.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.4ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (6.6ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  Rendered users/login.html.haml within layouts/application (1.0ms)
Completed 200 OK in 45ms (Views: 44.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms)
  [1m[35m (42.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (12.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (7.1ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (11.9ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  Rendered users/login.html.haml within layouts/application (1.0ms)
Completed 200 OK in 44ms (Views: 43.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (33.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (36.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (11.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (12.9ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  Rendered users/login.html.haml within layouts/application (0.7ms)
Completed 200 OK in 60ms (Views: 30.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.6ms)
  [1m[35m (36.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (13.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.6ms)
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (0.9ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (13.9ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.1ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  Rendered users/login.html.haml within layouts/application (0.7ms)
Completed 200 OK in 82ms (Views: 39.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.6ms)
  [1m[35m (39.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 27ms (ActiveRecord: 0.6ms)
  [1m[36m (19.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (6.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (15.2ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (28.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  Rendered users/login.html.haml within layouts/application (0.7ms)
Completed 200 OK in 74ms (Views: 34.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.6ms)
  [1m[35m (40.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Completed 500 Internal Server Error in 2ms
  [1m[36m (37.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 500 Internal Server Error in 1ms
  [1m[35m (13.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (8.9ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (11.5ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (35.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (10.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (4.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  Rendered users/login.html.haml within layouts/application (1.1ms)
Completed 200 OK in 46ms (Views: 43.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 500 Internal Server Error in 1ms
  [1m[35m (5.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Completed 500 Internal Server Error in 1ms
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.9ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (5.8ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (44.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (12.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  Rendered users/login.html.haml within layouts/application (1.1ms)
Completed 200 OK in 43ms (Views: 40.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (8.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (7.9ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (8.8ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  Rendered users/login.html.haml within layouts/application (0.7ms)
Completed 200 OK in 51ms (Views: 38.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.6ms)
  [1m[35m (30.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (14.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.6ms)
  [1m[35m (7.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (10.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.6ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (7.3ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` IS NULL LIMIT 1
  Rendered users/login.html.haml within layouts/application (0.7ms)
Completed 200 OK in 45ms (Views: 9.0ms | ActiveRecord: 0.5ms)
  [1m[36m (37.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.6ms)
  [1m[36m (13.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.6ms)
  [1m[35m (10.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (9.3ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (27.1ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (25.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 35ms (Views: 9.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.6ms)
  [1m[35m (13.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (3.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.6ms)
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (3.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (3.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (18.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (4.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (16.3ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (5.8ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (36.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 42ms (Views: 9.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.6ms)
  [1m[35m (12.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (12.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (14.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35m (11.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (9.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (7.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (13.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (14.7ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (10.9ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (47.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 40ms (Views: 33.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.6ms)
  [1m[35m (13.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
  [1m[36m (26.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (12.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (6.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (5.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.9ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (15.2ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (35.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 39ms (Views: 32.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.6ms)
  [1m[35m (37.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (13.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.6ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (9.3ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (8.5ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (33.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 41ms (Views: 34.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.6ms)
  [1m[35m (13.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.6ms)
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.6ms)
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (26.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (13.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35m (8.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (5.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (4.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (5.1ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (10.3ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (0.7ms)
Completed 200 OK in 31ms (Views: 30.9ms | ActiveRecord: 0.0ms)
  [1m[35m (44.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.6ms)
  [1m[35m (11.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.6ms)
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.6ms)
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (3.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (5.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (0.9ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (16.8ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.3ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (43.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 43ms (Views: 36.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.6ms)
  [1m[35m (11.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (5.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (5.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (5.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (13.1ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (6.8ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (33.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 38ms (Views: 8.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.6ms)
  [1m[35m (12.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35m (12.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (5.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (5.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (11.0ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (6.0ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (44.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (28.4ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (8.7ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (37.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (12.0ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (5.8ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (41.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (31.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 50ms (Views: 40.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[35m (13.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (5.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (5.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (14.0ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (6.4ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (36.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (11.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
Completed 200 OK in 54ms (Views: 43.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[36m (20.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (5.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (12.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (14.2ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (5.9ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (8.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
Completed 200 OK in 51ms (Views: 41.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)
  [1m[36m (3.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (5.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (5.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 9)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (14.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (4.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (10.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (50.6ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (11.8ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
  [1m[35m (42.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
  [1m[35m (12.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
  [1m[36m (17.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (9.4ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (8.9ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
  [1m[35m (37.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
  [1m[35m (12.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
  [1m[36m (11.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (5.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 85ms (Views: 42.8ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[35m (17.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (18.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0013', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0014', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0016', 17)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0017', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (6.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (40.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.2ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (15.9ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (15.1ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (4.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (7.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (4.8ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (6.0ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (1.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Completed 500 Internal Server Error in 36ms
  [1m[35m (33.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (12.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
Processing by AccountsController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (6.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (5.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 40ms (Views: 3.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (5.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (13.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0013', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0014', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35m (30.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0016', 17)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0017', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (12.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (9.0ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (5.8ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Completed 500 Internal Server Error in 30ms
  [1m[35m (32.0ms)[0m  ROLLBACK
  [1m[36m (2.9ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (7.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (29.9ms)[0m  ROLLBACK
  [1m[36m (6.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (8.1ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (5.9ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (7.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)[0m
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (9.8ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
Processing by AccountsController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (11.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (11.1ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (39.6ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (4.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
  Rendered text template (0.0ms)
Completed 200 OK in 37ms (Views: 36.3ms | ActiveRecord: 0.0ms)
  [1m[35m (36.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (12.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (5.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (5.0ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.0ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (19.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (6.8ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (6.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (4.8ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.7ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (3.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (3.8ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (64.6ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (12.2ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
  Rendered text template (0.0ms)
Completed 200 OK in 30ms (Views: 30.0ms | ActiveRecord: 0.0ms)
  [1m[35m (36.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (11.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (11.3ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (8.1ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
  Rendered text template (0.0ms)
Completed 200 OK in 27ms (Views: 26.8ms | ActiveRecord: 0.0ms)
  [1m[35m (31.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (20.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (7.3ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (5.8ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
  Rendered text template (0.0ms)
Completed 200 OK in 40ms (Views: 39.2ms | ActiveRecord: 0.0ms)
  [1m[35m (32.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (11.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (9.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (28.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (20.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (3.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (3.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (7.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (3.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.2ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (9.3ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (5.8ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
  Rendered text template (0.0ms)
Completed 200 OK in 28ms (Views: 27.5ms | ActiveRecord: 0.0ms)
  [1m[35m (37.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (12.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
Processing by AccountsController#index as HTML
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"17"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (8.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"18"}
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (7.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (6.3ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (5.9ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (37.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Completed 200 OK in 41ms (Views: 40.0ms | ActiveRecord: 0.6ms)
  [1m[36m (10.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36m (6.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (11.1ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (9.0ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (36.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Completed 200 OK in 38ms (Views: 36.6ms | ActiveRecord: 0.6ms)
  [1m[36m (10.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[36m (10.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (12.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (31.6ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (26.8ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (35.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Completed 200 OK in 37ms (Views: 35.6ms | ActiveRecord: 0.6ms)
  [1m[36m (13.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[36m (3.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (4.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (13.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (24.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (12.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (6.4ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (5.8ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (34.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Completed 500 Internal Server Error in 1ms
  [1m[36m (12.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Completed 500 Internal Server Error in 1ms
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (7.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (9.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (37.7ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (30.9ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (41.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Completed 200 OK in 34ms (Views: 33.3ms | ActiveRecord: 0.6ms)
  [1m[36m (13.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.5ms)
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (12.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (7.1ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (8.2ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (41.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 500 Internal Server Error in 2ms
  [1m[35m (11.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Completed 500 Internal Server Error in 2ms
  [1m[36m (14.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (10.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.9ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (13.4ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (46.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (14.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 6)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 6)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 6)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
Completed 200 OK in 50ms (Views: 40.6ms | ActiveRecord: 1.1ms)
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 6[0m
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 7)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 9)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 7[0m
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1[0m
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1[0m
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (3.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (3.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 15)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (3.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 16)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (4.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 17)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (3.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (7.9ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (8.9ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (47.3ms)[0m  ROLLBACK
  [1m[36m (9.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (8.8ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.9ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (5.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (5.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 81ms (Views: 36.5ms | ActiveRecord: 6.2ms)
  [1m[35mAccount Load (9.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (22.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.3ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (8.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (7.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (6.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (8.9ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (6.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 33ms (Views: 0.5ms | ActiveRecord: 6.7ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (13.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (4.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (10.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (6.8ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (16.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (5.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (17.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (9.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (8.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (4.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
  [1m[36m (9.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 17
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"account"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (9.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.9ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (8.5ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (3.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (5.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (9.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (43.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 93ms (Views: 50.7ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (15.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (29.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (6.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (4.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 11.2ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (36.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (11.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 17
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (5.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (4.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (14.7ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (7.6ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (41.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 76ms (Views: 36.9ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (10.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (14.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (8.2ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.5ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (37.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 75ms (Views: 36.9ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (13.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (11.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (27.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (14.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (5.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (8.9ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (18.3ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (35.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 69ms (Views: 33.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (12.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (17.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (27.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
  [1m[36m (12.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (12.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (10.5ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (7.2ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (130.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (1.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 92ms (Views: 41.6ms | ActiveRecord: 2.5ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (13.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (27.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (4.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (1.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (17.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.6ms)[0m  BEGIN
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (13.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (6.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (4.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (11.3ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (8.1ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (57.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 57ms (Views: 27.1ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (14.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (7.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (7.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (5.0ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (7.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 7.7ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (26.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (4.5ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (7.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (12.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (6.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (8.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (6.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (6.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (8.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (5.9ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (9.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (9.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (4.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (7.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (1.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (8.5ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (7.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (18.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (9.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (9.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (10.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (17.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (19.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (9.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (5.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.9ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (11.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (7.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (9.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (5.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (7.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (7.1ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (12.5ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.9ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (32.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 73ms (Views: 35.4ms | ActiveRecord: 1.3ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (31.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (12.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (0.9ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (11.0ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (10.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 63ms (Views: 30.5ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (3.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (5.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (5.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (13.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (0.9ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (9.5ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (12.5ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (44.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 74ms (Views: 38.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (12.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (11.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (31.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (13.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.1ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (8.7ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (8.1ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (37.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (1.2ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 73ms (Views: 33.5ms | ActiveRecord: 1.2ms)
  [1m[35mAccount Load (1.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (4.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (6.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (5.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (1.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (41.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (12.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (4.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (12.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (1.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (8.9ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (8.6ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (40.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 92ms (Views: 41.5ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (29.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (13.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (3.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (11.1ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.5ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (43.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 69ms (Views: 33.6ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (11.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (6.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (4.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (13.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (8.8ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (14.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (43.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 83ms (Views: 39.8ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (12.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (0.9ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (20.5ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (7.7ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (55.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 86ms (Views: 42.0ms | ActiveRecord: 1.2ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (13.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (30.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (14.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (8.4ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (5.8ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (40.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (6.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 83ms (Views: 39.9ms | ActiveRecord: 1.4ms)
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (32.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (4.2ms)[0m  BEGIN
  [1m[36m (1.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (7.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (7.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (7.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (8.8ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (6.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (9.2ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (12.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (5.6ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (4.8ms)[0m  BEGIN
  [1m[36m (2.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (8.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (7.2ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (18.8ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (8.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (8.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (2.1ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (4.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (6.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (20.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (7.2ms)[0m  BEGIN
  [1m[36m (1.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.9ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Completed 500 Internal Server Error in 3ms
  [1m[36m (6.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (5.6ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (5.8ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
  [1m[36mUser Load (6.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Completed 500 Internal Server Error in 9ms
  [1m[36m (9.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (4.5ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (7.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
  [1m[36mUser Load (9.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mAccount Load (1.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Completed 500 Internal Server Error in 12ms
  [1m[36m (25.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (6.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (22.3ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (5.9ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (11.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 59ms (Views: 29.1ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (4.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (4.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (4.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (6.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (4.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (11.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.8ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (31.4ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (14.1ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (39.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 74ms (Views: 31.7ms | ActiveRecord: 1.0ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (13.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (10.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (5.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[36m (6.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 19
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 6ms
  [1m[35m (8.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (5.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (3.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.2ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (17.4ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (12.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 2)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 4)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 4)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 6)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 6)[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 6)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 7)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 7)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.8ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 52ms (Views: 37.4ms | ActiveRecord: 1.7ms)
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 7
  [1m[36m (38.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 8)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 8)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 9)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 10)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 11)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.8ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (1.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 2.1ms)
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 8
  [1m[36m (13.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 12)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (9.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 13)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 14)
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (9.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 15)
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 16)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"21"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.6ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 17)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"22"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.6ms)
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"24"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 20)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"25"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (6.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (12.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.3ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.7ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (9.5ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (63.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 2)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (16.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 56ms (Views: 41.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 7
  [1m[36m (12.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 9)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 8
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"21"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"22"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (26.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 6ms
  [1m[35m (12.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"24"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 20)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"25"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (3.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (5.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (3.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.8ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (7.1ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (17.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 2)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (5.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (6.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (23.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 52ms (Views: 37.6ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 7
  [1m[36m (11.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 9)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 8
  [1m[36m (14.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"21"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"22"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 6ms
  [1m[35m (6.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"24"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 20)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"25"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (4.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (3.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.9ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (14.3ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (32.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 2)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (9.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 4)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (15.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 56ms (Views: 41.1ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 7
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 9)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 8
  [1m[36m (7.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"18"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"19"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"21"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"22"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (5.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 6ms
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"24"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (5.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 20)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"25"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (37.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (11.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (6.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (9.7ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (8.0ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (40.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 77ms (Views: 37.0ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (3.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (11.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (14.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 19
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 6ms
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (7.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (2.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (5.8ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (11.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0022', 20)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0023', 21)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0025', 23)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0026', 23)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1
  [1m[36m (5.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.8ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (14.5ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.6ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 81ms (Views: 38.2ms | ActiveRecord: 1.0ms)
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.2ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (6.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (16.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.3ms)
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 19
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (11.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0022', 20)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0023', 21)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (36.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1
  [1m[36m (13.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0025', 23)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0026', 23)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1
  [1m[36m (6.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (13.0ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (7.7ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 40ms (Views: 30.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (6.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (4.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"15"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (4.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"17"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"18"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.2ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"19"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 19
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.1ms)
  [1m[35m (5.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"20"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (11.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (34.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[36m (13.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0022', 23)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0023', 24)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0025@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 25 LIMIT 1
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0026@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 26 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0025', 26)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0026', 26)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0027@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0028@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0029@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 29 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0030@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 30 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (5.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0031@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 31 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (6.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (9.0ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (8.2ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (51.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 76ms (Views: 36.7ms | ActiveRecord: 1.8ms)
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (28.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (9.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[36m (7.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (11.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (9.3ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (6.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (5.0ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (5.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (36.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 82ms (Views: 39.7ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (13.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (5.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (7.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (4.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (4.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"recipient"=>"23", "amount"=>"50", "id"=>"24"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 24[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (13.0ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (7.0ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.8ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (67.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.8ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 76ms (Views: 36.3ms | ActiveRecord: 1.6ms)
  [1m[35mAccount Load (1.0ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (13.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.6ms)
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (8.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.9ms)
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (10.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (9.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (1.1ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35mAccount Load (1.0ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.6ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.0ms)
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.8ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.8ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36mAccount Load (0.9ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 3.0ms)
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.6ms)
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.3ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (10.0ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (18.9ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (47.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 73ms (Views: 35.5ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (14.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (13.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (4.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 500 Internal Server Error in 6ms
  [1m[35m (6.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (4.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (5.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (9.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (8.6ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (6.8ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (36.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 83ms (Views: 37.1ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (13.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (5.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (7.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (1.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.1ms)
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (9.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#withdraw as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.3ms)
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (0.9ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (9.5ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (7.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (52.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 77ms (Views: 39.9ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (43.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (12.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.3ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (11.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (9.1ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (7.1ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (6.1ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 12ms (ActiveRecord: 7.9ms)
  [1m[35m (9.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (8.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (9.7ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (7.9ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (5.6ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (10.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (7.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 10ms (ActiveRecord: 8.3ms)
  [1m[35m (9.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (7.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (7.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 10ms (ActiveRecord: 8.3ms)
  [1m[35m (9.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (6.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (5.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (16.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (9.3ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (8.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (7.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (7.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 22ms (ActiveRecord: 17.5ms)
  [1m[35m (11.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (6.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (5.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 9ms (ActiveRecord: 6.3ms)
  [1m[36m (4.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (4.7ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (10.1ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (12.3ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (7.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (2.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.7ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (6.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (36.7ms)[0m  ROLLBACK
  [1m[36m (8.8ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (7.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.8ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (5.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 58ms (Views: 38.4ms | ActiveRecord: 6.2ms)
  [1m[35mAccount Load (4.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (11.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (6.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (7.9ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (7.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (9.9ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (9.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 10.3ms)
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (17.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (7.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (7.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (7.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (9.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (8.9ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (3.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 8ms (ActiveRecord: 4.5ms)
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (6.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (20.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.2ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (17.7ms)[0m  ROLLBACK
  [1m[36m (6.7ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (5.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 8ms (ActiveRecord: 5.8ms)
  [1m[35m (10.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (8.8ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (8.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (6.1ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (6.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 11ms (ActiveRecord: 8.2ms)
  [1m[36m (9.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (7.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (6.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (10.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (8.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (7.7ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (10.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (6.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (5.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 12ms (ActiveRecord: 8.5ms)
  [1m[35m (8.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (7.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (5.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (8.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 12ms (ActiveRecord: 9.6ms)
  [1m[36m (35.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (7.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35m (12.8ms)[0m  ROLLBACK
  [1m[36m (8.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (9.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (10.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (4.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 12ms (Views: 3.5ms | ActiveRecord: 4.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (8.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (5.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.8ms)
  [1m[36m (6.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (5.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (6.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (20.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (8.3ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0025@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 25 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (9.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (4.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0026@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 26 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0027', 26)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0027@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (9.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0028', 27)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.0ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0028@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 28 LIMIT 1[0m
  [1m[35m (9.4ms)[0m  ROLLBACK
  [1m[36m (2.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0029@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 29 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (5.8ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0030', 29)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0031', 29)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.6ms)[0m  ROLLBACK
  [1m[36m (6.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0030@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 30 LIMIT 1[0m
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0031@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (4.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (9.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (7.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (5.2ms)[0m  BEGIN
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (7.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0032@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 32 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (10.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (8.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0033@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 33 LIMIT 1
  [1m[36mUser Load (5.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (13.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (8.2ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0034@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 34 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (11.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (5.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (10.4ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (15.2ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (35.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 65ms (Views: 56.1ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (11.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (6.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
  [1m[35m (11.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (8.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 2.9ms)
  [1m[36m (7.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (27.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (2.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (13.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.3ms)
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 6ms (Views: 2.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 35ms (Views: 33.3ms | ActiveRecord: 0.6ms)
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (8.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0025@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 25 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0026@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 26 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0027', 26)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0027@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0028', 27)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (13.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0028@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 28 LIMIT 1[0m
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0029@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 29 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0030', 29)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0031', 29)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0030@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 30 LIMIT 1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0031@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0032@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 32 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0033@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 33 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0034@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 34 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.4ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (5.8ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (30.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (2.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 17:46:24 -0400
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (2.0ms)
Completed 500 Internal Server Error in 32ms
  [1m[35m (47.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (18.3ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (5.8ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (53.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 38ms (Views: 31.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)
  [1m[35m (12.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Completed 500 Internal Server Error in 13ms
  [1m[36m (6.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 500 Internal Server Error in 41ms
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (5.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 17:47:13 -0400
Processing by UsersController#login as HTML
Completed 500 Internal Server Error in 80ms
  [1m[35m (11.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (20.2ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.7ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 20ms (ActiveRecord: 0.0ms)
  [1m[35m (36.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 34ms (Views: 27.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.6ms)
  [1m[35m (40.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (11.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 17:48:14 -0400
Processing by UsersController#login as HTML
Completed 500 Internal Server Error in 89ms
  [1m[35m (8.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (0.9ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (11.8ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (6.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 17:48:59 -0400
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (61.5ms)
Completed 500 Internal Server Error in 101ms
  [1m[35m (38.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (12.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 9ms (Views: 2.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.6ms)
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.6ms)
  [1m[36m (5.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.6ms)
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (5.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (12.4ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (8.1ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 17:49:48 -0400
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (2.0ms)
Completed 500 Internal Server Error in 38ms
  [1m[35m (38.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (12.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 12ms (Views: 2.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.6ms)
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (4.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (5.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (0.9ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (8.6ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (14.3ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 17:50:00 -0400
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (61.9ms)
Completed 500 Internal Server Error in 101ms
  [1m[35m (39.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (12.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 9ms (Views: 2.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (9.7ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (8.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 17:51:49 -0400
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (3.9ms)
Completed 200 OK in 42ms (Views: 36.2ms | ActiveRecord: 0.0ms)
  [1m[35m (32.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (13.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 38ms (Views: 2.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.6ms)
  [1m[35m (5.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (6.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (9.0ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (16.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (4.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (3.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 17:52:40 -0400
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (3.8ms)
Completed 200 OK in 41ms (Views: 35.9ms | ActiveRecord: 0.0ms)
  [1m[35m (46.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (16.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 13ms (Views: 2.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (6.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)
  [1m[35m (6.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (14.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (8.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (6.9ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (10.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (10.1ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (6.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (8.3ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (13.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 17:52:56 -0400
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (4.1ms)
Completed 200 OK in 42ms (Views: 36.3ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2012-05-25 17:52:56 -0400
Processing by UsersController#login as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"username"=>"jsmith", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` IS NULL LIMIT 1
  Rendered users/login.html.haml within layouts/application (0.6ms)
Completed 500 Internal Server Error in 34ms
  [1m[36m (32.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (12.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.6ms)
  [1m[36m (6.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.6ms)
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.6ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (13.7ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (50.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 47ms (Views: 37.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.6ms)
  [1m[35m (13.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (24.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (13.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 17:54:16 -0400
Processing by UsersController#login as HTML
Completed 200 OK in 12ms (Views: 6.8ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2012-05-25 17:54:17 -0400
Processing by UsersController#login as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"username"=>"jsmith", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` IS NULL LIMIT 1
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 0.6ms)
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (8.5ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (7.5ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (3.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 58ms (Views: 28.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (53.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (13.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)
  [1m[35m (4.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (3.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (3.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[35m (3.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.3ms)
  [1m[35m (6.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[36m (3.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (12.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 37ms (Views: 3.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[35m (8.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (7.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0025@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 25 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0026@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 26 LIMIT 1[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 17:54:18 -0400
Processing by UsersController#login as HTML
Completed 200 OK in 12ms (Views: 6.6ms | ActiveRecord: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2012-05-25 17:54:18 -0400
Processing by UsersController#login as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"username"=>"jsmith", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` IS NULL LIMIT 1
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 0.5ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 27)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 28)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 29 LIMIT 1
  [1m[36m (28.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 30 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 30)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 30)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (12.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 31 LIMIT 1
  [1m[36m (6.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 33 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 34 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (5.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 35 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (9.1ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.6ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (37.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 80ms (Views: 39.0ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (13.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (3.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (5.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (5.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (19.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.3ms)
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (5.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (36.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 8ms (Views: 3.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)
  [1m[35m (12.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (6.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (6.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0025@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 25 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0026@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 26 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (17.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0027@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0027', 27)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0028@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 28 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0028', 28)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0029@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 29 LIMIT 1[0m
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0030@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0030', 30)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0031', 30)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0031@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 31 LIMIT 1[0m
  [1m[35m (3.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0032@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0033@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 33 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (4.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0034@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 34 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0035@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 35 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (20.3ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (7.2ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (39.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 50ms (Views: 37.9ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (12.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (4.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (4.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (3.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (12.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (9.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.1ms)
  [1m[36m (5.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.3ms)
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 19)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 28 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0029', 19)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 29 LIMIT 1
  [1m[36m (6.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (7.9ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (12.6ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (36.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 45ms (Views: 34.8ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (35.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (12.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (9.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (5.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (5.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.3ms)
  [1m[35m (9.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 19
Completed 500 Internal Server Error in 5ms
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (6.5ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (8.6ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (41.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 40ms (Views: 31.0ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (40.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (13.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.3ms)
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
Completed 500 Internal Server Error in 4ms
  [1m[35m (6.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (13.2ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.4ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (24.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 48ms (Views: 37.8ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (27.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (9.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (4.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (3.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (9.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (5.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.4ms)
  [1m[35m (5.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[36m (3.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
Completed 200 OK in 7ms (Views: 2.7ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0029', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 29 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 19 AND (id != 27)
  [1m[36m (7.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (7.2ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (10.7ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 65ms (Views: 31.8ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (27.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (12.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (6.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 1.9ms)
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (5.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.3ms)
  [1m[35m (18.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[36m (5.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0029', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 29 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 19 AND (id != 27)
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 7ms (Views: 2.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (8.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0025@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 25 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0026@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 26 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0027@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0030', 27)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0028@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 28 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0031', 28)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0029@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 29 LIMIT 1[0m
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0030@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0033', 30)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0034', 30)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (9.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0031@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 31 LIMIT 1[0m
  [1m[35m (4.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0032@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0033@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 33 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (4.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0034@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 34 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (3.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0035@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 35 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (5.9ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (9.0ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (34.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 47ms (Views: 35.3ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (13.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (6.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (5.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (12.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.4ms)
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
Completed 200 OK in 7ms (Views: 2.8ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0029', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 29 LIMIT 1[0m
  [1m[35m (8.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (8.7ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (6.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (17.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 45ms (Views: 34.8ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (7.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (5.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (6.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (4.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (5.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.3ms)
  [1m[35m (11.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
Completed 200 OK in 7ms (Views: 2.6ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0029', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 29 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 19 AND (id != 27)
  [1m[36m (8.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (6.7ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (5.9ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (31.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 64ms (Views: 31.2ms | ActiveRecord: 1.0ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (11.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 1.0ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (13.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[35m (14.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (5.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (5.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 8ms (ActiveRecord: 3.4ms)
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[36m (3.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
Completed 200 OK in 7ms (Views: 2.6ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0029', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 29 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 19 AND (id != 27)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 7ms (Views: 3.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (5.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0025@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 25 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0026@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 26 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (7.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0027@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0030', 27)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (12.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0028@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 28 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0031', 28)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0029@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 29 LIMIT 1[0m
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0030@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0033', 30)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0034', 30)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0031@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 31 LIMIT 1[0m
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0032@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (44.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0033@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 33 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (13.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0034@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 34 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (6.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0035@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 35 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (9.5ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (8.6ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (60.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 39ms (Views: 29.3ms | ActiveRecord: 1.6ms)
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (14.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 1.6ms)
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (42.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (1.0ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 8ms (ActiveRecord: 4.1ms)
  [1m[35m (12.4ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.5ms)
  [1m[35m (5.3ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.6ms)
  [1m[35m (5.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 3.0ms)
  [1m[36m (8.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.8ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 10ms (ActiveRecord: 5.4ms)
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.2ms)
  [1m[36m (6.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
Completed 200 OK in 7ms (Views: 2.6ms | ActiveRecord: 2.3ms)
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 19)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0029', 19)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 29 LIMIT 1[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 19 AND (id != 27)
  [1m[36m (34.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (13.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 8ms (Views: 2.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 1.1ms)
  [1m[35m (8.9ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (1.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 1.2ms)
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.9ms)
  [1m[35m (5.3ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0025@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 25 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (5.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0026@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 26 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (5.8ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 18:21:07 -0400
Processing by UsersController#login as HTML
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0027@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m


Started POST "/login" for 127.0.0.1 at 2012-05-25 18:21:07 -0400
Processing by UsersController#login as HTML
  Parameters: {"utf8"=>"✓", "username"=>"jsmith", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://www.example.com/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.9ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:21:07 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 27[0m
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0030', 27)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 30 LIMIT 1[0m


Started GET "/accounts/deposit/30" for 127.0.0.1 at 2012-05-25 18:21:07 -0400
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 28)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 29 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 29)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 30 LIMIT 1[0m
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 31 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 31)[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 31)
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.4ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 32 LIMIT 1[0m
  [1m[35m (8.6ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 34 LIMIT 1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 35 LIMIT 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 36 LIMIT 1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.3ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (13.1ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (10.2ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 18:21:17 -0400
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (3.3ms)
Completed 200 OK in 43ms (Views: 37.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m


Started POST "/login" for 127.0.0.1 at 2012-05-25 18:21:17 -0400
Processing by UsersController#login as HTML
  Parameters: {"utf8"=>"✓", "username"=>"jsmith", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://www.example.com/accounts
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:21:17 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 1[0m
  Rendered accounts/index.html.haml within layouts/application (10.7ms)
Completed 200 OK in 46ms (Views: 11.8ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m


Started GET "/accounts/1/deposit" for 127.0.0.1 at 2012-05-25 18:21:17 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  Rendered accounts/deposit.html.haml within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 1.0ms)
  [1m[35m (13.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (10.0ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (52.2ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 18:21:27 -0400
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (3.3ms)
Completed 200 OK in 40ms (Views: 33.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m


Started POST "/login" for 127.0.0.1 at 2012-05-25 18:21:27 -0400
Processing by UsersController#login as HTML
  Parameters: {"utf8"=>"✓", "username"=>"jsmith", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://www.example.com/accounts
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:21:27 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 1[0m
  Rendered accounts/index.html.haml within layouts/application (10.6ms)
Completed 200 OK in 42ms (Views: 11.7ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m


Started GET "/accounts/1/deposit" for 127.0.0.1 at 2012-05-25 18:21:27 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  Rendered accounts/deposit.html.haml within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 1.0ms)


Started POST "/accounts/1/deposit" for 127.0.0.1 at 2012-05-25 18:21:27 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"utf8"=>"✓", "amount"=>"1000", "commit"=>"Deposit", "id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 1100 WHERE `accounts`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/accounts
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:21:27 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 1
  Rendered accounts/index.html.haml within layouts/application (3.9ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 1.5ms)
  [1m[36m (13.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (32.0ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (13.7ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 18:21:35 -0400
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (3.3ms)
Completed 200 OK in 43ms (Views: 37.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m


Started POST "/login" for 127.0.0.1 at 2012-05-25 18:21:36 -0400
Processing by UsersController#login as HTML
  Parameters: {"utf8"=>"✓", "username"=>"jsmith", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://www.example.com/accounts
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:21:36 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 1[0m
  Rendered accounts/index.html.haml within layouts/application (36.1ms)
Completed 200 OK in 71ms (Views: 37.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m


Started GET "/accounts/1/deposit" for 127.0.0.1 at 2012-05-25 18:21:36 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  Rendered accounts/deposit.html.haml within layouts/application (2.6ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 1.0ms)


Started POST "/accounts/1/deposit" for 127.0.0.1 at 2012-05-25 18:21:36 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"utf8"=>"✓", "amount"=>"1000", "commit"=>"Deposit", "id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 1100 WHERE `accounts`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/accounts
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:21:36 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 1
  Rendered accounts/index.html.haml within layouts/application (3.7ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 1.6ms)
  [1m[36m (40.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (12.3ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (5.9ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (40.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 59ms (Views: 29.0ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (29.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (5.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (27.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (16.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (27.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (10.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (3.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (3.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[35m (7.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (5.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.3ms)
  [1m[35m (5.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[36m (9.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
Completed 200 OK in 7ms (Views: 2.7ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0029', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 29 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 19 AND (id != 27)
  [1m[36m (8.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 36ms (Views: 3.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (6.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (6.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0025@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 25 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0026@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 26 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 18:21:37 -0400
Processing by UsersController#login as HTML
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0027@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m


Started POST "/login" for 127.0.0.1 at 2012-05-25 18:21:37 -0400
Processing by UsersController#login as HTML
  Parameters: {"utf8"=>"✓", "username"=>"jsmith", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://www.example.com/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:21:37 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 27[0m
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0030', 27)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 30 LIMIT 1[0m


Started GET "/accounts/30/deposit" for 127.0.0.1 at 2012-05-25 18:21:37 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"30"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 30 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 1.0ms)


Started POST "/accounts/30/deposit" for 127.0.0.1 at 2012-05-25 18:21:37 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"utf8"=>"✓", "amount"=>"1000", "commit"=>"Deposit", "id"=>"30"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 1100 WHERE `accounts`.`id` = 30[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/accounts
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:21:37 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 27[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 27
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 1.5ms)
  [1m[36m (51.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 28 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 28)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (11.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 29 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 29)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (4.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 30 LIMIT 1
  [1m[36m (7.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 31 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 31)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 31)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (13.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 32 LIMIT 1
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 34 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 35 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (4.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 36 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (8.9ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (6.0ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 18:22:05 -0400
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (3.3ms)
Completed 200 OK in 43ms (Views: 37.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m


Started POST "/login" for 127.0.0.1 at 2012-05-25 18:22:05 -0400
Processing by UsersController#login as HTML
  Parameters: {"utf8"=>"✓", "username"=>"jsmith", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://www.example.com/accounts
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:22:05 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 1[0m
  Rendered accounts/index.html.haml within layouts/application (36.0ms)
Completed 200 OK in 71ms (Views: 37.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (10000, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m


Started GET "/accounts/1/deposit" for 127.0.0.1 at 2012-05-25 18:22:05 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  Rendered accounts/deposit.html.haml within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 1.0ms)


Started POST "/accounts/1/deposit" for 127.0.0.1 at 2012-05-25 18:22:05 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"utf8"=>"✓", "amount"=>"1000", "commit"=>"Deposit", "id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 11000 WHERE `accounts`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/accounts
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:22:05 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 1
  Rendered accounts/index.html.haml within layouts/application (4.1ms)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 1.5ms)
  [1m[36m (33.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (0.9ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (13.7ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (8.0ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 18:22:11 -0400
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (3.5ms)
Completed 200 OK in 40ms (Views: 33.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m


Started POST "/login" for 127.0.0.1 at 2012-05-25 18:22:11 -0400
Processing by UsersController#login as HTML
  Parameters: {"utf8"=>"✓", "username"=>"jsmith", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://www.example.com/accounts
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:22:11 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 1[0m
  Rendered accounts/index.html.haml within layouts/application (32.3ms)
Completed 200 OK in 63ms (Views: 33.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (10000, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m


Started GET "/accounts/1/deposit" for 127.0.0.1 at 2012-05-25 18:22:11 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  Rendered accounts/deposit.html.haml within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 1.0ms)


Started POST "/accounts/1/deposit" for 127.0.0.1 at 2012-05-25 18:22:11 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"utf8"=>"✓", "amount"=>"1000", "commit"=>"Deposit", "id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 11000 WHERE `accounts`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/accounts
Completed 302 Found in 8ms (ActiveRecord: 2.1ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:22:11 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 1
  Rendered accounts/index.html.haml within layouts/application (3.9ms)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 1.6ms)
  [1m[36m (19.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (19.9ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (14.4ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 18:22:22 -0400
Processing by UsersController#login as HTML
  Rendered users/login.html.haml within layouts/application (3.3ms)
Completed 200 OK in 43ms (Views: 37.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m


Started POST "/login" for 127.0.0.1 at 2012-05-25 18:22:22 -0400
Processing by UsersController#login as HTML
  Parameters: {"utf8"=>"✓", "username"=>"jsmith", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://www.example.com/accounts
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:22:22 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 1[0m
  Rendered accounts/index.html.haml within layouts/application (35.7ms)
Completed 200 OK in 71ms (Views: 36.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (10000, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m


Started GET "/accounts/1/deposit" for 127.0.0.1 at 2012-05-25 18:22:22 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  Rendered accounts/deposit.html.haml within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 1.0ms)


Started POST "/accounts/1/deposit" for 127.0.0.1 at 2012-05-25 18:22:22 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"utf8"=>"✓", "amount"=>"1000", "commit"=>"Deposit", "id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 11000 WHERE `accounts`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/accounts
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:22:22 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 1
  Rendered accounts/index.html.haml within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 1.5ms)
  [1m[36m (76.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SELECT DATABASE() as db
  [1m[36m (1.0ms)[0m  [1mselect table_name from information_schema.views where table_schema = 'tdd_test'[0m
  [1m[35m (32.1ms)[0m  TRUNCATE TABLE `accounts`;
  [1m[36m (13.5ms)[0m  [1mTRUNCATE TABLE `users`;[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (6.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 59ms (Views: 28.8ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (6.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 1.0ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (7.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (3.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.1ms)
  [1m[35m (7.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (5.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[35m (4.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[35m (4.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)
  [1m[36m (8.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (3.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.3ms)
  [1m[35m (11.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.7ms)
  [1m[36m (7.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
Completed 200 OK in 7ms (Views: 2.6ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0029', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 29 LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 19 AND (id != 27)
  [1m[36m (7.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 36ms (Views: 3.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)
  [1m[35m (28.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (13.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (6.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0025@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 25 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0026@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 26 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 18:22:23 -0400
Processing by UsersController#login as HTML
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0027@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m


Started POST "/login" for 127.0.0.1 at 2012-05-25 18:22:24 -0400
Processing by UsersController#login as HTML
  Parameters: {"utf8"=>"✓", "username"=>"jsmith", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://www.example.com/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:22:24 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 27[0m
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (10000, 'Account 0030', 27)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 30 LIMIT 1[0m


Started GET "/accounts/30/deposit" for 127.0.0.1 at 2012-05-25 18:22:24 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"30"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 30 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 1.0ms)


Started POST "/accounts/30/deposit" for 127.0.0.1 at 2012-05-25 18:22:24 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"utf8"=>"✓", "amount"=>"1000", "commit"=>"Deposit", "id"=>"30"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 11000 WHERE `accounts`.`id` = 30[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/accounts
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:22:24 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 27[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 27
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 1.5ms)
  [1m[36m (7.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 28 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 28)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 29 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 29)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 30 LIMIT 1
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 31 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 31)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 31)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (7.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 32 LIMIT 1
  [1m[36m (6.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 34 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (5.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 35 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 36 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (8.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (0.9ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (11.6ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (9.2ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (42.7ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (15.3ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0001', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0002', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0003', 1)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 3 LIMIT 1[0m
Processing by AccountsController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (39.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0004', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0005', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0006', 2)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 6 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 69ms (Views: 35.7ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 2
  [1m[36m (10.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0007', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0008', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0009', 3)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0010', 4)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0011', 5)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0012', 6)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 12 LIMIT 1[0m
Processing by AccountsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 1.1ms)
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 3
  [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0013', 7)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 13 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0014', 8)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 14 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"14"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (7.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0015', 9)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
Processing by AccountsController#deposit as HTML
  Parameters: {"amount"=>"50", "id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 9 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 15 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 15
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (6.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0010@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0016', 10)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 16 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"16"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0011@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0017', 11)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 17 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"id"=>"17"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (4.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0012@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0018', 12)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"125", "id"=>"18"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 18 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
  [1m[35m (7.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0013@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0019', 13)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"75", "id"=>"19"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 13 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 19 LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[35m (7.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0014@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0020', 14)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
Processing by AccountsController#withdraw as HTML
  Parameters: {"amount"=>"50", "id"=>"20"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 20[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/accounts
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[36m (5.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0015@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0021', 15)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 21 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"21"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (8.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0016@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0022', 16)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 22 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"22"}
Redirected to http://test.host/login
Filter chain halted as :redirect_if_not_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (4.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0017@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0023', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0024', 17)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"24", "amount"=>"50", "id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 23 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 50 WHERE `accounts`.`id` = 23[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  UPDATE `accounts` SET `balance` = 150 WHERE `accounts`.`id` = 24
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 7ms (ActiveRecord: 3.3ms)
  [1m[35m (35.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0018@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0025', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0026', 18)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1[0m
Processing by AccountsController#transfer as HTML
  Parameters: {"recipient"=>"26", "amount"=>"125", "id"=>"25"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 18 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 25 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 26 LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)
  [1m[36m (10.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0019@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0027', 19)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
Processing by AccountsController#transfer as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 27 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 19 LIMIT 1[0m
Completed 200 OK in 7ms (Views: 2.6ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0028', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (100, 'Account 0029', 19)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 29 LIMIT 1[0m
  [1m[35mAccount Load (0.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 19 AND (id != 27)
  [1m[36m (7.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0020@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 20 LIMIT 1[0m
  [1m[35m (8.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0021@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 21 LIMIT 1[0m
Processing by UsersController#login as HTML
Redirected to http://test.host/accounts
Completed 302 Found in 31ms (ActiveRecord: 0.0ms)
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"username", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
Completed 200 OK in 7ms (Views: 3.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0022@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 22 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.6ms)
  [1m[35m (6.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0023@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 23 LIMIT 1[0m
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (6.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0024@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 24 LIMIT 1
Processing by UsersController#login as HTML
  Parameters: {"username"=>"jsmith", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
Redirected to http://test.host/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (6.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0025@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 25 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (7.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0026@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 26 LIMIT 1[0m
Processing by UsersController#logout as HTML
Redirected to http://test.host/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (6.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m


Started GET "/login" for 127.0.0.1 at 2012-05-25 18:25:34 -0400
Processing by UsersController#login as HTML
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0027@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m


Started POST "/login" for 127.0.0.1 at 2012-05-25 18:25:34 -0400
Processing by UsersController#login as HTML
  Parameters: {"utf8"=>"✓", "username"=>"jsmith", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
Redirected to http://www.example.com/accounts
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:25:34 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 27[0m
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (10000, 'Account 0030', 27)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 30 LIMIT 1[0m


Started GET "/accounts/30/deposit" for 127.0.0.1 at 2012-05-25 18:25:34 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"id"=>"30"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 30 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 1.0ms)


Started POST "/accounts/30/deposit" for 127.0.0.1 at 2012-05-25 18:25:34 -0400
Processing by AccountsController#deposit as HTML
  Parameters: {"utf8"=>"✓", "amount"=>"1000", "commit"=>"Deposit", "id"=>"30"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mUPDATE `accounts` SET `balance` = 11000 WHERE `accounts`.`id` = 30[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/accounts
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)


Started GET "/accounts" for 127.0.0.1 at 2012-05-25 18:25:34 -0400
Processing by AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 27 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `accounts` WHERE `accounts`.`user_id` = 27[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`user_id` = 27
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 1.7ms)
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0001@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 28 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (150, 'Account 0001', 28)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0002@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 29 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (50, 'Account 0002', 29)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0003@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 30 LIMIT 1
  [1m[36m (4.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0004@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 31 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (25, 'Account 0004', 31)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `name`, `user_id`) VALUES (175, 'Account 0005', 31)[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0005@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 32 LIMIT 1
  [1m[36m (5.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0006@example.com', 'John', 'hashed_password_1', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'username' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0007@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 34 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (7.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0008@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 35 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1
  [1m[36m (6.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `users` (`email`, `first_name`, `hashed_password`, `last_name`, `username`) VALUES ('john.smith-0009@example.com', 'John', '5ebe2294ecd0e0f08eab7690d2a6ee69', 'Smith', 'jsmith')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 36 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`username` = 'jsmith' LIMIT 1[0m
  [1m[35m (4.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSELECT DATABASE() as db[0m
  [1m[35m (0.9ms)[0m  select table_name from information_schema.views where table_schema = 'tdd_test'
  [1m[36m (13.9ms)[0m  [1mTRUNCATE TABLE `accounts`;[0m
  [1m[35m (8.9ms)[0m  TRUNCATE TABLE `users`;
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
